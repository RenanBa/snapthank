<script>
  function hasGetUserMedia() {
  return !!(navigator.getUserMedia || navigator.webkitGetUserMedia ||
            navigator.mozGetUserMedia || navigator.msGetUserMedia);
}
if (hasGetUserMedia()) {
  console.log("Good to go!");
} else {
  alert('getUserMedia() is not supported in your browser');
}
</script>

<% if current_user %>
  <div class="user_name">
    <p>Welcome, <span><%= current_user.name %></span>! | <%= link_to 'Log Out', logout_path, method: :delete %></p>
    <p></p>
  </div>
  <p>Donor's name: <%= @donor.name %></p>
  <p>Donor's donation: <%= @donor.donation %></p>

  <video autoplay id="video"></video>
  <div id="center-buttons">
    <button class="rec buttons" onclick="onBtnRecordClicked()">REC</button>
    <button class="stop buttons" onclick="onBtnStopClicked()">STOP</button>
    <button class='send buttons' onclick='onBtnSendClicked("<%= @donor.id %>")'>SEND</button>
  </div>
<% else %>
  <p>You need to <%= link_to 'Log In', '/auth/google_oauth2' %> to record a video</p>
<% end %>

<script>
$(document).on("pagecreate",function(event){
  $(window).on("orientationchange",function(){
    if(window.orientation == 0)
    {
      $("p").text("The orientation has changed to portrait!").css({"background-color":"yellow","font-size":"300%"});
    }
    else
    {
      $("p").text("The orientation has changed to landscape!").css({"background-color":"pink","font-size":"200%"});
    }
  });
});
</script>
</head>
<body>

<div data-role="page">
  <div data-role="header">
    <h1>The orientationchange Event</h1>
  </div>

  <div data-role="main" class="ui-content">
    <p>Try to rotate your device!</p>
    <p><b>Note:</b> You must use a mobile device, or a mobile emulator to see the effect of this event.</p>
  </div>

  <div data-role="footer">
    <h1>Footer Text</h1>
  </div>
</div>






